# S3のアクセスコントロール
S3はインターネットからも直接アクセス可能であり、セキュリティ事故が非常に起きやすいため、アクセスコントロールについては慎重に扱う必要がある。

AWSでは、S3に対して３つのアクセスコントロールの機能を提供している。
- ブロックパブリックアクセス
- バケットポリシー
- ACL（Access Control List）

上記の設定に関しての優先度は以下
> ブロックパブリックアクセス　＞　バケットポリシー　＞　オブジェクトACL ＞　バケットACL

## ブロックパブリックアクセス
アカウントやバケット単位で、意図しないパブリックアクセスを抑止するための機能。
ブロックパブリックアクセス設定をしておくことで、意図しないパブリック設定がされそうになったり、されていたとしても全て無視してパブリックアクセスを許可しない。

明示的に不特定多数のアクセス元を認め利用されることを想定していない限りは、ブロックパブリックアクセスは有効化しておくべき。

### パブリックアクセスとは
パブリックアクセスとは、AWSの認証を受けていない接続元からのアクセスのこと。
S3所有者が明示的に許可を記述していない接続元からのアクセスをパブリックアクセスと呼ぶ。

### ブロックパブリックアクセスの種類
|オプション名|効果|
|:----|:----|
|BlockPublicAcls|パブリックアクセスを許可するACLの設定の更新を禁止する。<br>また、パブリックアクセス設定されたオブジェクトのアップロードを許可しない。|
|IgnorePulicAcls|パブリックアクセスを許可するACLやオブジェクトが存在してもパブリックアクセスをさせない。|
|BlockPublicPolicy|パブリックアクセスを許可するバケットポリシーの設定・更新を禁止する。|
|RestrictPublicBuckeds|パブリックアクセスを許可するバケットポリシーが存在してもパブリックアクセスやクロスアカウントを無視する。|



## バケットポリシー
バケットポリシーはS3におけるリソースベースポリシーである。

以下のようなユースケースが想定される
- クロスアカウントの設定
- Conditionを利用した接続元の制限


## ACL（Access Control List）


